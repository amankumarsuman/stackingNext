(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(20025)}])},20025:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(85893),s=n(67294),i=n(35553),r=n(21046),u=n(41942),o=n(83078),p=JSON.parse('{"L":"0xcFbE437dE5b02353748CEF7EE3A7Fa7b3e808f32","M":[{"inputs":[{"internalType":"address","name":"stakingToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"StakingToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"getRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"getStakerLastClaimTim","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"getStakingStartTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"getTotalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"nextRewardIn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"setEmissionPerDay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_status","type":"bool"}],"name":"setStakingStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"stakers","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"lastClaim","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokensPerDay","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalStaked","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),l=JSON.parse('{"L":"0x3402652071C682Bc90ce88AB9F7C59Be4A9Faa01","M":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"StakingContract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"burner","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_newContract","type":"address"}],"name":"setStakingContract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function d(){let[e,t]=(0,s.useState)("0"),[n,d]=(0,s.useState)(i.fi("0")),[y,c]=(0,s.useState)(0),[m,f]=(0,s.useState)(null),[b,x]=(0,s.useState)(i.fi("0")),[w,h]=(0,s.useState)(i.fi("0")),[k,g]=(0,s.useState)(i.fi("0")),[T,v]=(0,s.useState)(i.fi("0")),[S,M]=(0,s.useState)("false"),N=(0,u.aa)(),{isWeb3Enabled:j,account:C}=(0,o.Nr)(),{runContractFunction:F}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"totalStaked",params:{}}),{runContractFunction:A}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"getTotalStaked",params:{staker:C}}),{runContractFunction:O}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"nextRewardIn",params:{staker:C}}),{runContractFunction:_}=(0,o.JX)({abi:l.M,contractAddress:l.L,functionName:"balanceOf",params:{account:C}}),{runContractFunction:E}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"getRewards",params:{staker:C}}),{runContractFunction:L}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"stake",params:{amount:i.fi(e||"0")}}),{runContractFunction:J}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"unstake",params:{amount:i.fi(e||"0")}}),{runContractFunction:X}=(0,o.JX)({abi:l.M,contractAddress:l.L,functionName:"approve",params:{spender:p.L,amount:r.Bz}}),{runContractFunction:R}=(0,o.JX)({abi:l.M,contractAddress:l.L,functionName:"allowance",params:{owner:C,spender:p.L}}),{runContractFunction:B}=(0,o.JX)({abi:p.M,contractAddress:p.L,functionName:"tokensPerDay",params:{}}),P=()=>{F().then(e=>{e&&g(e)}),C&&(_().then(e=>{e&&(console.log("balance : "+e.toString()),console.log(C),console.log(l.L),x(e))}),E().then(e=>{e&&v(e)}),B().then(e=>{e&&d(e)}),A().then(e=>{e&&(console.log("staked : "+e.toString()),h(e))}),R().then(e=>{e.eq(r.Bz)?(M(!0),localStorage.setItem("approved"+C,"true")):M(!1)}),M(localStorage.getItem("approved"+C)))},U=n=>{if(n.preventDefault(),"Stake"==n.target.id){if("0"==e)return N({type:"warning",message:"Please input staking amount!",title:"Stake",position:"topR"});L({onError:e=>console.log(e),onSuccess:W})}else"Unstake"==n.target.id&&J({onError:e=>{t("0")},onSuccess:$})},D=e=>{e.preventDefault(),X({onError:e=>console.log(e),onSuccess:I})},I=async e=>{await e.wait(1),N({type:"success",message:"Approved Staking Contract!",title:"Approval",position:"topR"}),localStorage.setItem("approved"+C,"true"),M(!0)},W=async e=>{await e.wait(1),N({type:"success",message:"Successfuly Staked!",title:"Staking",position:"topR"}),P(),t("0")},$=async e=>{await e.wait(1),N({type:"success",message:"Successfuly Unstaked!",title:"Unstaking",position:"topR"}),P(),t("0")};return(0,s.useEffect)(()=>{j&&P()},[j,C]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mx-auto mt-5 glassmorphic max-w-2xl p-6 rounded-lg",children:(0,a.jsx)("section",{"aria-labelledby":"stake-form",children:(0,a.jsxs)("div",{className:"bg-white p-2 sm:p-5 shadow rounded-lg min-h-[70vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-end flex-wrap gap-3 justify-between px-4 py-5 sm:px-6 max-w-xl mx-auto",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("h2",{id:"applicant-information-title",className:"text-3xl text-black font-bold leading-6 ",children:"Stake to earn"}),(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-600",children:"Buy native token and proceed to stake"})]}),(0,a.jsx)("span",{className:"ring-2 ring-white/50 px-4 py-2 rounded-full",children:(0,a.jsxs)("p",{className:"mt-1 max-w-2xl text-sm text-white/50",children:["1 nQNT = ",(0,a.jsx)("span",{className:"text-white/75",children:"3.3334 QNT"})]})})]}),(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 max-w-xl mx-auto flex flex-col flex-grow",children:[(0,a.jsxs)("form",{className:"space-y-6",action:"#",method:"POST",onSubmit:e=>handleSubmit(e),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"stake_amount",className:"flex justify-between items-center text-sm font-medium text-gray-600",children:[(0,a.jsx)("span",{children:"Stake/Unstake Amount:"}),(0,a.jsxs)("span",{children:["Balance:"," ",(0,a.jsx)("span",{className:"text-gray-600 font-bold",children:i.dF(b)})]})]}),(0,a.jsx)("div",{className:"relative mt-1",children:(0,a.jsx)("input",{id:"stake_amount",name:"stake_amount",type:"mumber",autoComplete:"stake_amount",required:!0,placeholder:"0.00",onChange:e=>{t(e.target.value)},className:"block w-full font-bold appearance-none rounded-md border-black border-2 bg-gray-100 px-5 pt-2 pb-4 placeholder-gray-500 text-black shadow-sm focus:border-black focus:outline-none focus:ring-black text-2xl sm:text-3xl md:text-5xl"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsxs)("span",{type:"Stake",id:"Stake",className:"flex w-full justify-start rounded-md text-lg font-bold text-black bg-white",children:["Total staked:"," ",(0,a.jsxs)("small",{className:"ml-2 text-neutral-500",children:[i.dF(k)," $W"]})]}),(0,a.jsxs)("span",{type:"Stake",id:"Stake",className:"flex w-full justify-start rounded-md mb-2 text-lg font-bold text-black bg-white",children:["Emission per day:",(0,a.jsxs)("small",{className:"ml-2 text-neutral-500",children:[i.dF(n)," tokens"]})]}),!S&&(0,a.jsx)("button",{type:"approve",onClick:D,className:"flex w-full justify-center rounded-md border border-transparent bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500 py-6 px-12 text-lg font-bold text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 mb-2",children:"Approve Staking"}),(0,a.jsx)("button",{onClick:U,type:"Stake",id:"Stake",className:"hover:bg-white hover:text-black flex w-full justify-center rounded-md hover:border-[2px] hover:border-black py-6 px-12 text-lg font-bold text-white bg-black shadow-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:"Stake"}),(0,a.jsx)("button",{onClick:U,type:"Unstake",id:"Unstake",className:"hover:bg-white hover:text-black flex w-full justify-center rounded-md hover:border-[2px] hover:border-black py-6 px-12 text-lg font-bold text-white bg-black shadow-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2",children:"Unstake"})]})]}),(0,a.jsxs)("div",{className:"flex-grow flex flex-row items-center justify-center h-full p-10 gap-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center border-[1px] border-black p-5 rounded-full bg-black text-white shadow-lg shadow-neutral-800",children:[(0,a.jsx)("b",{children:"Your Staked"}),(0,a.jsxs)("span",{className:"text-neutral-300",children:[i.dF(w)," $W"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center border-[1px] border-black p-5 rounded-full bg-black text-white shadow-lg shadow-neutral-800",children:[(0,a.jsx)("b",{children:"Your Rewards"}),(0,a.jsxs)("span",{className:"text-neutral-300",children:[i.dF(T)," $W"]})]})]})]})]})})})})}}},function(e){e.O(0,[733,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);